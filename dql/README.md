```
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£Ä‚£Ä‚£Ä‚£Ä‚£Ä‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£†‚†Ä‚†∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°ü‚†Ä‚¢Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚£æ‚£ø‚°Ü‚†Ä‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†É‚†Ä‚£º‚£∑‚£Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚¢†‚£ø‚£ø‚£ø‚£∑‚°Ä‚†Ä‚¢ª‚£ø‚£ø‚£ø‚°ø‚†É‚†Ä‚£º‚£ø‚£ø‚£ø‚°Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚£∑‚£Ñ‚†Ä‚†ô‚†ø‚†ã‚†Ä‚£†‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚¢ø‚£ø‚£ø‚£ø‚†ø‚†õ‚†õ‚†ì‚†Ä‚†Ä‚†Ä‚†ö‚†õ‚†õ‚†ø‚£ø‚£ø‚£ø‚°ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚¢∞‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚¢Ä‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£Ä‚£Ä‚†ò‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ü‚†Ä‚£§‚†Ä‚¢Ä‚†Ä
‚†Ä‚¢ø‚£ø‚°â‚¢π‚£ø‚†á‚†à‚£ª‚£ø‚¢∂‚°Ñ‚†Ä‚¢∞‚°∂‚£ø‚£ü‚†â‚†Ä‚£ø‚°è‚¢â‚£ø‚°ø‚†Ä‚£∞‚£ø‚£ø‚°ø‚†Ä
‚†Ä‚†ò‚£ø‚£ß‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ô‚†Å‚†Ä‚†Ä‚†à‚†Ä‚£∏‚£ø‚†É‚†Ä‚¢ø‚£ø‚°ø‚†É‚†Ä
‚†Ä‚†Ä‚†ô‚£ø‚£∑‚£§‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£§‚£æ‚£ø‚†É‚†Ä‚†Ä‚£æ‚†É‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ß‚†Ä‚†Ä‚†Ä‚¢Ä‚£Ä‚£Ä‚£Ä‚£Ä‚†Ä‚†Ä‚†Ä‚£º‚£ø‚£ø‚£ø‚†Ä‚†Ä‚£∏‚°ü‚¢†‚£ø‚£§‚°∂
‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ß‚°Ä‚†Ä‚†Ä‚†â‚†â‚†â‚†â‚†Ä‚¢Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚†Ä‚¢∞‚°ø‚†Ä‚£ø‚£ø‚£ø‚†á
‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∂‚£§‚°Ä‚†Ä‚¢Ä‚£§‚£∂‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚¢†‚£ø‚†É‚†Ä‚£ø‚†ü‚†ã‚†Ä
‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°è‚†ª‚†ø‚£ø‚†ø‚†ü‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£º‚°á‚†Ä‚£∞‚°ø‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†â‚†â‚†â‚†â‚†â‚†â‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†â‚†â‚†â‚†â‚†â‚†â‚†â‚†Ä‚†Ä‚†â‚†Å‚†Ä‚†Ä‚†Ä
```

# Exerc√≠cios DQL ‚Äî Cen√°rios Variados com PostgreSQL

Este reposit√≥rio cont√©m **20 exerc√≠cios** de consultas SQL, cada um baseado em um **cen√°rio diferente**, todos adaptados para **PostgreSQL**.

## Objetivo

Aplicar e refor√ßar o conhecimento em SQL com foco em:

- Modelagem de dados.
- Cria√ß√£o de tabelas com `DDL`.
- Inser√ß√£o de dados (`INSERT`).
- Consultas (`SELECT`), incluindo:
  - `JOIN`.
  - `GROUP BY`.
  - Fun√ß√µes de agrega√ß√£o.
  - Subconsultas.
  - Filtros com `WHERE`.
- Manipula√ß√£o de datas e fun√ß√µes espec√≠ficas do PostgreSQL.

---

## Estrutura dos exerc√≠cios

Cada exerc√≠cio possui:

- üìÑ **Descri√ß√£o** do cen√°rio.
- üóÑÔ∏è **DDL**: cria√ß√£o das tabelas.
- ‚úçÔ∏è **Inserts**: inser√ß√£o de dados fict√≠cios.
- üîç **Consulta**: c√≥digo SQL da quest√£o adaptado.
- üìä **Explica√ß√£o t√©cnica**: detalhamento das opera√ß√µes utilizadas.
- üîß **Consultas adicionais**: varia√ß√µes e extens√µes √∫teis.

---

## Lista de exerc√≠cios

| # | Cen√°rio | Conceito Principal | Link |
|---|---------|-------------------|------|
| 1 | **Cl√≠nica Veterin√°ria** ‚Äî C√°lculo da idade m√©dia | Fun√ß√µes de data (`AGE`, `EXTRACT`) | [üìÅ exercise_01](./exercise_01/) |
| 2 | **Biblioteca Universit√°ria** ‚Äî Hist√≥rico de empr√©stimos | `JOIN` b√°sico com filtros | [üìÅ exercise_02](./exercise_02/) |
| 3 | **Oficina Mec√¢nica** ‚Äî Idade do ve√≠culo e pr√≥xima revis√£o | C√°lculos com datas | [üìÅ exercise_03](./exercise_03/) |
| 4 | **Loja de Materiais de Constru√ß√£o** ‚Äî Quantidade total de materiais | Fun√ß√µes de agrega√ß√£o (`SUM`) | [üìÅ exercise_04](./exercise_04/) |
| 5 | **Creche Infantil** ‚Äî Idade m√≠nima e m√°xima | Fun√ß√µes `MIN` e `MAX` | [üìÅ exercise_05](./exercise_05/) |
| 6 | **Escola de M√∫sica** ‚Äî Alunos nascidos entre 2000 e 2005 | Filtros com `BETWEEN` e `EXTRACT` | [üìÅ exercise_06](./exercise_06/) |
| 7 | **Centro de Est√©tica** ‚Äî Profissionais especializados | Filtros com `IN` | [üìÅ exercise_07](./exercise_07/) |
| 8 | **Cl√≠nica Odontol√≥gica** ‚Äî Lista de pacientes e m√©dicos | `JOIN` m√∫ltiplo | [üìÅ exercise_08](./exercise_08/) |
| 9 | **Academia de Gin√°stica** ‚Äî Instrutores com alunos acima de 40 anos | `JOIN` com filtros de idade | [üìÅ exercise_09](./exercise_09/) |
| 10 | **Pet Shop** ‚Äî Pets sem consulta agendada | Filtros com `IS NULL` | [üìÅ exercise_10](./exercise_10/) |
| 11 | **Ag√™ncia de Publicidade** ‚Äî Profissional mais bem pago | `ORDER BY` com `LIMIT` | [üìÅ exercise_11](./exercise_11/) |
| 12 | **Universidade** ‚Äî T√©cnicos no mesmo departamento que um professor | Subconsultas | [üìÅ exercise_12](./exercise_12/) |
| 13 | **Cl√≠nica Veterin√°ria** ‚Äî Pets com consulta em cardiologia | `JOIN` com filtros espec√≠ficos | [üìÅ exercise_13](./exercise_13/) |
| 14 | **Cl√≠nica de Fisioterapia** ‚Äî Fisioterapeutas com pacientes do plano FisioPlus | `JOIN` m√∫ltiplo com filtros | [üìÅ exercise_14](./exercise_14/) |
| 15 | **Cl√≠nica de Nutri√ß√£o** ‚Äî Nutricionistas com pacientes que n√£o usam NutriGold | Filtros de nega√ß√£o (`<>`) | [üìÅ exercise_15](./exercise_15/) |
| 16 | **Hospital Veterin√°rio** ‚Äî Auxiliares com sal√°rio acima da m√©dia | Subconsultas com `AVG` | [üìÅ exercise_16](./exercise_16/) |
| 17 | **Cl√≠nica de Psicologia** ‚Äî Psic√≥logos sem consultas em janeiro | `NOT IN` com subconsultas | [üìÅ exercise_17](./exercise_17/) |
| 18 | **Distribuidora de Alimentos** ‚Äî Fornecedores mexicanos e tipos de produtos | `STRING_AGG` e `GROUP BY` | [üìÅ exercise_18](./exercise_18/) |
| 19 | **Cl√≠nica de Endocrinologia** ‚Äî M√©dico, paciente, prescri√ß√£o e medicamento | `JOIN` complexo (4 tabelas) | [üìÅ exercise_19](./exercise_19/) |
| 20 | **Hospital Psiqui√°trico** ‚Äî Paciente, departamento, enfermeira e data da consulta | `JOIN` m√∫ltiplo sem agrupamento | [üìÅ exercise_20](./exercise_20/) |

---

## Conceitos Abordados

### Fun√ß√µes de Data e Tempo
- `AGE()` - C√°lculo de idade
- `EXTRACT()` - Extra√ß√£o de componentes de data
- `CURRENT_DATE` - Data atual
- `BETWEEN` - Filtros de intervalo

### Fun√ß√µes de Agrega√ß√£o
- `SUM()` - Soma de valores
- `AVG()` - M√©dia aritm√©tica
- `MIN()` / `MAX()` - Valores m√≠nimo e m√°ximo
- `COUNT()` - Contagem de registros
- `STRING_AGG()` - Agrega√ß√£o de strings

### JOINs e Relacionamentos
- `INNER JOIN` - Jun√ß√£o interna
- `LEFT JOIN` - Jun√ß√£o externa esquerda
- JOINs m√∫ltiplos (3+ tabelas)
- Relacionamentos um-para-muitos

### Filtros e Condi√ß√µes
- `WHERE` - Filtros b√°sicos
- `IN` / `NOT IN` - Filtros de lista
- `IS NULL` / `IS NOT NULL` - Valores nulos
- `LIKE` / `ILIKE` - Busca por padr√µes
- `<>` / `!=` - Operadores de nega√ß√£o

### Subconsultas
- Subconsultas correlacionadas
- Subconsultas com agrega√ß√£o
- Compara√ß√µes com subconsultas

### Ordena√ß√£o e Limita√ß√£o
- `ORDER BY` - Ordena√ß√£o de resultados
- `LIMIT` - Limita√ß√£o de registros
- `DISTINCT` - Elimina√ß√£o de duplicatas

### Agrupamento
- `GROUP BY` - Agrupamento de dados
- `HAVING` - Filtros p√≥s-agrupamento

---

## Como utiliza

1. **Clone ou baixe este reposit√≥rio**:
   ```bash
   git clone https://github.com/mrpunkdasilva/mentor-database-i.git
   cd mentor-database-i/dql
   ```

2. **Configure o PostgreSQL** localmente ou use um servi√ßo online.

3. **Execute os scripts SQL** de cada exerc√≠cio na ordem:
   - **Cria√ß√£o do schema e tabelas (DDL)**
   - **Inser√ß√£o de dados (INSERT)**
   - **Consulta principal (SELECT)**

4. **Explore as consultas adicionais** em cada exerc√≠cio para aprofundar o aprendizado.

5. **Analise os resultados** e experimente modificar os cen√°rios!

---

## Aprendizados

### Progress√£o de Dificuldade
- **Exerc√≠cios 1-5**: Conceitos b√°sicos (fun√ß√µes de data, agrega√ß√£o simples)
- **Exerc√≠cios 6-10**: Filtros e condi√ß√µes avan√ßadas
- **Exerc√≠cios 11-15**: Subconsultas e compara√ß√µes
- **Exerc√≠cios 16-20**: JOINs complexos e relat√≥rios avan√ßados

### Habilidades Desenvolvidas
- Modelagem adaptativa para m√∫ltiplos contextos
- Dom√≠nio de fun√ß√µes nativas do **PostgreSQL**
- Boas pr√°ticas em `JOINs` e filtragem de dados

---

## üìä Cen√°rios por √Årea

### **Sa√∫de e Medicina**
- Cl√≠nica Veterin√°ria (exerc√≠cios 1, 13)
- Cl√≠nica Odontol√≥gica (exerc√≠cio 8)
- Cl√≠nica de Fisioterapia (exerc√≠cio 14)
- Cl√≠nica de Nutri√ß√£o (exerc√≠cio 15)
- Hospital Veterin√°rio (exerc√≠cio 16)
- Cl√≠nica de Psicologia (exerc√≠cio 17)
- Cl√≠nica de Endocrinologia (exerc√≠cio 19)
- Hospital Psiqui√°trico (exerc√≠cio 20)

### **Educa√ß√£o**
- Biblioteca Universit√°ria (exerc√≠cio 2)
- Creche Infantil (exerc√≠cio 5)
- Escola de M√∫sica (exerc√≠cio 6)
- Universidade (exerc√≠cio 12)

### **Neg√≥cios e Servi√ßos**
- Oficina Mec√¢nica (exerc√≠cio 3)
- Loja de Materiais de Constru√ß√£o (exerc√≠cio 4)
- Centro de Est√©tica (exerc√≠cio 7)
- Academia de Gin√°stica (exerc√≠cio 9)
- Pet Shop (exerc√≠cio 10)
- Ag√™ncia de Publicidade (exerc√≠cio 11)
- Distribuidora de Alimentos (exerc√≠cio 18)

---

## Recursos Adicionais

### Scripts √öteis
Cada exerc√≠cio inclui:
- **Consultas de exemplo** com diferentes varia√ß√µes
- **√çndices recomendados** para otimiza√ß√£o
- **Views** para simplificar consultas complexas
- **Fun√ß√µes** para automatizar opera√ß√µes comuns

### Extens√µes Sugeridas
- Adi√ß√£o de mais campos √†s tabelas existentes
- Cria√ß√£o de novos relacionamentos
- Implementa√ß√£o de triggers e procedures
- Desenvolvimento de relat√≥rios avan√ßados

---

## Observa√ß√µes

- Todos os exerc√≠cios foram elaborados para fins **did√°ticos**.
- Os dados inseridos s√£o **fict√≠cios** e representativos.
- As solu√ß√µes s√£o totalmente compat√≠veis com **PostgreSQL 12+**.
- Cada exerc√≠cio pode ser executado independentemente.
- Os cen√°rios s√£o escal√°veis e podem ser expandidos conforme necess√°rio.

---

## Requisitos

- **PostgreSQL 12+**
- Cliente SQL de sua prefer√™ncia:
  - DBeaver
  - pgAdmin
  - psql (linha de comando)
  - DataGrip
  - VS Code com extens√£o PostgreSQL

---

## Contribui√ß√µes

Sinta-se √† vontade para:
- Sugerir novos cen√°rios
- Propor melhorias nas consultas
- Adicionar exerc√≠cios complementares
- Reportar problemas ou inconsist√™ncias

